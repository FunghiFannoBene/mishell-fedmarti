{
    "sourceFile": "command_list3.c",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 5,
            "patches": [
                {
                    "date": 1701283566135,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1701283576419,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n /*                                                    +:+ +:+         +:+     */\n /*   By: shhuang <dsheng1993@gmail.com>             +#+  +:+       +#+        */\n /*                                                +#+#+#+#+#+   +#+           */\n /*   Created: 2023/11/25 17:02:26 by shhuang           #+#    #+#             */\n-/*   Updated: 2023/11/29 19:46:06 by shhuang          ###   ########.fr       */\n+/*   Updated: 2023/11/29 19:46:16 by shhuang          ###   ########.fr       */\n /*                                                                            */\n /* ************************************************************************** */\n \n #include \"short_code.h\"\n@@ -18,10 +18,9 @@\n \tk->rx = 0;\n \tk->start = 0;\n \tk->head = NULL;\n \tk->single_double = 0;\n-\t*command = ft_calloc(sizeof(t_redirect));\n-\tmemset((*command), 0, sizeof(t_redirect));\n+\t*command = ft_calloc(sizeof(t_redirect,1));\n \twhile (s[*i] && s[*i] == ' ')\n \t\t(*i)++;\n }\n \n"
                },
                {
                    "date": 1701283584350,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n /*                                                    +:+ +:+         +:+     */\n /*   By: shhuang <dsheng1993@gmail.com>             +#+  +:+       +#+        */\n /*                                                +#+#+#+#+#+   +#+           */\n /*   Created: 2023/11/25 17:02:26 by shhuang           #+#    #+#             */\n-/*   Updated: 2023/11/29 19:46:16 by shhuang          ###   ########.fr       */\n+/*   Updated: 2023/11/29 19:46:24 by shhuang          ###   ########.fr       */\n /*                                                                            */\n /* ************************************************************************** */\n \n #include \"short_code.h\"\n@@ -18,9 +18,9 @@\n \tk->rx = 0;\n \tk->start = 0;\n \tk->head = NULL;\n \tk->single_double = 0;\n-\t*command = ft_calloc(sizeof(t_redirect,1));\n+\t*command = ft_calloc(sizeof(t_redirect),1);\n \twhile (s[*i] && s[*i] == ' ')\n \t\t(*i)++;\n }\n \n"
                },
                {
                    "date": 1701283595874,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,91 @@\n+/* ************************************************************************** */\n+/*                                                                            */\n+/*                                                        :::      ::::::::   */\n+/*   command_list3.c                                    :+:      :+:    :+:   */\n+/*                                                    +:+ +:+         +:+     */\n+/*   By: shhuang <dsheng1993@gmail.com>             +#+  +:+       +#+        */\n+/*                                                +#+#+#+#+#+   +#+           */\n+/*   Created: 2023/11/25 17:02:26 by shhuang           #+#    #+#             */\n+/*   Updated: 2023/11/29 19:46:35 by shhuang          ###   ########.fr       */\n+/*                                                                            */\n+/* ************************************************************************** */\n+\n+#include \"short_code.h\"\n+\n+void\tinit_search(t_search *k, t_redirect **command, char *s, int *i)\n+{\n+\tk->x = 0;\n+\tk->rx = 0;\n+\tk->start = 0;\n+\tk->head = NULL;\n+\tk->single_double = 0;\n+\t*command = ft_calloc(sizeof(t_redirect),1);\n+\twhile (s[*i] && s[*i] == ' ')\n+\t\t(*i)++;\n+}\n+\n+int\tcheck_zero_move(char *s, int *i, t_redirect **command, t_search *k)\n+{\n+\tif (s[*i] == '\\0')\n+\t{\n+\t\tfree(*command);\n+\t\treturn (1);\n+\t}\n+\twhile ((s[*i] == '\\'' && s[*i + 1] == '\\'') || (s[*i] == '\"' && s[*i\n+\t\t\t\t+ 1] == '\"'))\n+\t\t(*i) += 2;\n+\twhile (s[*i] && s[*i] == ' ')\n+\t\t(*i)++;\n+\tcheck_virgolette_dispari(s, i);\n+\tif (s[*i] == '\\'')\n+\t{\n+\t\t(*i)++;\n+\t\tk->single_double = 1;\n+\t}\n+\tif (s[*i] == '\"')\n+\t{\n+\t\tk->single_double = 2;\n+\t\t(*i)++;\n+\t}\n+\treturn (0);\n+}\n+\n+int\tcheck_pipe_redi(char *s, int *i, t_redirect **command, t_pnode *structure)\n+{\n+\tif (check_pipe(s, i, structure))\n+\t{\n+\t\tfree(*command);\n+\t\t*command = NULL;\n+\t\treturn (-4);\n+\t}\n+\tif (check_redirect(s, i, structure))\n+\t{\n+\t\tfree(*command);\n+\t\twrite(2, \"minishell: syntax error near unexpected token `>'\\n\", 51);\n+\t\treturn (-1);\n+\t}\n+\treturn (0);\n+}\n+\n+int\tcreate_command_size(char *s, int *i, t_redirect **command, t_search *k)\n+{\n+\twhile (s[*i] && s[*i] == ' ')\n+\t\t(*i)++;\n+\tk->head = *command;\n+\tk->start = *i;\n+\twhile (s[k->start + k->x] && s[k->start + k->x] != ' '\n+\t\t&& s[k->start + k->x] != '|'\n+\t\t&& s[k->start + k->x] != '<'\n+\t\t&& s[k->start + k->x] != '>'\n+\t\t&& s[k->start + k->x] != '\\''\n+\t\t&& s[k->start + k->x] != '\"')\n+\t\tk->x++;\n+\twhile (((s[k->start + k->x] != '\\'' && k->single_double == 1)\n+\t\t\t&& (s[k->start + k->x] != '\"'\n+\t\t\t\t&& k->single_double == 2)))\n+\t\tk->x++;\n+\t(*command)->str = ft_calloc((size_t)k->x + 1);\n+\tif (!(*command)->str)\n+\t\treturn (1);\n+\treturn (0);\n+}\n"
                },
                {
                    "date": 1701283603212,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n /*                                                    +:+ +:+         +:+     */\n /*   By: shhuang <dsheng1993@gmail.com>             +#+  +:+       +#+        */\n /*                                                +#+#+#+#+#+   +#+           */\n /*   Created: 2023/11/25 17:02:26 by shhuang           #+#    #+#             */\n-/*   Updated: 2023/11/29 19:46:35 by shhuang          ###   ########.fr       */\n+/*   Updated: 2023/11/29 19:46:43 by shhuang          ###   ########.fr       */\n /*                                                                            */\n /* ************************************************************************** */\n \n #include \"short_code.h\"\n@@ -83,100 +83,9 @@\n \twhile (((s[k->start + k->x] != '\\'' && k->single_double == 1)\n \t\t\t&& (s[k->start + k->x] != '\"'\n \t\t\t\t&& k->single_double == 2)))\n \t\tk->x++;\n-\t(*command)->str = ft_calloc((size_t)k->x + 1);\n+\t(*command)->str = ft_calloc((size_t)k->x + 1, 1);\n \tif (!(*command)->str)\n \t\treturn (1);\n \treturn (0);\n }\n-/* ************************************************************************** */\n-/*                                                                            */\n-/*                                                        :::      ::::::::   */\n-/*   command_list3.c                                    :+:      :+:    :+:   */\n-/*                                                    +:+ +:+         +:+     */\n-/*   By: shhuang <dsheng1993@gmail.com>             +#+  +:+       +#+        */\n-/*                                                +#+#+#+#+#+   +#+           */\n-/*   Created: 2023/11/25 17:02:26 by shhuang           #+#    #+#             */\n-/*   Updated: 2023/11/29 19:46:24 by shhuang          ###   ########.fr       */\n-/*                                                                            */\n-/* ************************************************************************** */\n-\n-#include \"short_code.h\"\n-\n-void\tinit_search(t_search *k, t_redirect **command, char *s, int *i)\n-{\n-\tk->x = 0;\n-\tk->rx = 0;\n-\tk->start = 0;\n-\tk->head = NULL;\n-\tk->single_double = 0;\n-\t*command = ft_calloc(sizeof(t_redirect),1);\n-\twhile (s[*i] && s[*i] == ' ')\n-\t\t(*i)++;\n-}\n-\n-int\tcheck_zero_move(char *s, int *i, t_redirect **command, t_search *k)\n-{\n-\tif (s[*i] == '\\0')\n-\t{\n-\t\tfree(*command);\n-\t\treturn (1);\n-\t}\n-\twhile ((s[*i] == '\\'' && s[*i + 1] == '\\'') || (s[*i] == '\"' && s[*i\n-\t\t\t\t+ 1] == '\"'))\n-\t\t(*i) += 2;\n-\twhile (s[*i] && s[*i] == ' ')\n-\t\t(*i)++;\n-\tcheck_virgolette_dispari(s, i);\n-\tif (s[*i] == '\\'')\n-\t{\n-\t\t(*i)++;\n-\t\tk->single_double = 1;\n-\t}\n-\tif (s[*i] == '\"')\n-\t{\n-\t\tk->single_double = 2;\n-\t\t(*i)++;\n-\t}\n-\treturn (0);\n-}\n-\n-int\tcheck_pipe_redi(char *s, int *i, t_redirect **command, t_pnode *structure)\n-{\n-\tif (check_pipe(s, i, structure))\n-\t{\n-\t\tfree(*command);\n-\t\t*command = NULL;\n-\t\treturn (-4);\n-\t}\n-\tif (check_redirect(s, i, structure))\n-\t{\n-\t\tfree(*command);\n-\t\twrite(2, \"minishell: syntax error near unexpected token `>'\\n\", 51);\n-\t\treturn (-1);\n-\t}\n-\treturn (0);\n-}\n-\n-int\tcreate_command_size(char *s, int *i, t_redirect **command, t_search *k)\n-{\n-\twhile (s[*i] && s[*i] == ' ')\n-\t\t(*i)++;\n-\tk->head = *command;\n-\tk->start = *i;\n-\twhile (s[k->start + k->x] && s[k->start + k->x] != ' '\n-\t\t&& s[k->start + k->x] != '|'\n-\t\t&& s[k->start + k->x] != '<'\n-\t\t&& s[k->start + k->x] != '>'\n-\t\t&& s[k->start + k->x] != '\\''\n-\t\t&& s[k->start + k->x] != '\"')\n-\t\tk->x++;\n-\twhile (((s[k->start + k->x] != '\\'' && k->single_double == 1)\n-\t\t\t&& (s[k->start + k->x] != '\"'\n-\t\t\t\t&& k->single_double == 2)))\n-\t\tk->x++;\n-\t(*command)->str = malloc((size_t)k->x + 1);\n-\tif (!(*command)->str)\n-\t\treturn (1);\n-\treturn (0);\n-}\n"
                },
                {
                    "date": 1701283611903,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n /*                                                    +:+ +:+         +:+     */\n /*   By: shhuang <dsheng1993@gmail.com>             +#+  +:+       +#+        */\n /*                                                +#+#+#+#+#+   +#+           */\n /*   Created: 2023/11/25 17:02:26 by shhuang           #+#    #+#             */\n-/*   Updated: 2023/11/29 19:46:45 by shhuang          ###   ########.fr       */\n+/*   Updated: 2023/11/29 19:46:51 by shhuang          ###   ########.fr       */\n /*                                                                            */\n /* ************************************************************************** */\n \n #include \"short_code.h\"\n@@ -83,9 +83,9 @@\n \twhile (((s[k->start + k->x] != '\\'' && k->single_double == 1)\n \t\t\t&& (s[k->start + k->x] != '\"'\n \t\t\t\t&& k->single_double == 2)))\n \t\tk->x++;\n-\t(*command)->str = ft_calloc((size_t)k->x + 1), 1);\n+\t(*command)->str = ft_calloc((size_t)(k->x + 1), 1);\n \tif (!(*command)->str)\n \t\treturn (1);\n \treturn (0);\n }\n"
                }
            ],
            "date": 1701283566135,
            "name": "Commit-0",
            "content": "/* ************************************************************************** */\n/*                                                                            */\n/*                                                        :::      ::::::::   */\n/*   command_list3.c                                    :+:      :+:    :+:   */\n/*                                                    +:+ +:+         +:+     */\n/*   By: shhuang <dsheng1993@gmail.com>             +#+  +:+       +#+        */\n/*                                                +#+#+#+#+#+   +#+           */\n/*   Created: 2023/11/25 17:02:26 by shhuang           #+#    #+#             */\n/*   Updated: 2023/11/29 19:46:06 by shhuang          ###   ########.fr       */\n/*                                                                            */\n/* ************************************************************************** */\n\n#include \"short_code.h\"\n\nvoid\tinit_search(t_search *k, t_redirect **command, char *s, int *i)\n{\n\tk->x = 0;\n\tk->rx = 0;\n\tk->start = 0;\n\tk->head = NULL;\n\tk->single_double = 0;\n\t*command = ft_calloc(sizeof(t_redirect));\n\tmemset((*command), 0, sizeof(t_redirect));\n\twhile (s[*i] && s[*i] == ' ')\n\t\t(*i)++;\n}\n\nint\tcheck_zero_move(char *s, int *i, t_redirect **command, t_search *k)\n{\n\tif (s[*i] == '\\0')\n\t{\n\t\tfree(*command);\n\t\treturn (1);\n\t}\n\twhile ((s[*i] == '\\'' && s[*i + 1] == '\\'') || (s[*i] == '\"' && s[*i\n\t\t\t\t+ 1] == '\"'))\n\t\t(*i) += 2;\n\twhile (s[*i] && s[*i] == ' ')\n\t\t(*i)++;\n\tcheck_virgolette_dispari(s, i);\n\tif (s[*i] == '\\'')\n\t{\n\t\t(*i)++;\n\t\tk->single_double = 1;\n\t}\n\tif (s[*i] == '\"')\n\t{\n\t\tk->single_double = 2;\n\t\t(*i)++;\n\t}\n\treturn (0);\n}\n\nint\tcheck_pipe_redi(char *s, int *i, t_redirect **command, t_pnode *structure)\n{\n\tif (check_pipe(s, i, structure))\n\t{\n\t\tfree(*command);\n\t\t*command = NULL;\n\t\treturn (-4);\n\t}\n\tif (check_redirect(s, i, structure))\n\t{\n\t\tfree(*command);\n\t\twrite(2, \"minishell: syntax error near unexpected token `>'\\n\", 51);\n\t\treturn (-1);\n\t}\n\treturn (0);\n}\n\nint\tcreate_command_size(char *s, int *i, t_redirect **command, t_search *k)\n{\n\twhile (s[*i] && s[*i] == ' ')\n\t\t(*i)++;\n\tk->head = *command;\n\tk->start = *i;\n\twhile (s[k->start + k->x] && s[k->start + k->x] != ' '\n\t\t&& s[k->start + k->x] != '|'\n\t\t&& s[k->start + k->x] != '<'\n\t\t&& s[k->start + k->x] != '>'\n\t\t&& s[k->start + k->x] != '\\''\n\t\t&& s[k->start + k->x] != '\"')\n\t\tk->x++;\n\twhile (((s[k->start + k->x] != '\\'' && k->single_double == 1)\n\t\t\t&& (s[k->start + k->x] != '\"'\n\t\t\t\t&& k->single_double == 2)))\n\t\tk->x++;\n\t(*command)->str = malloc((size_t)k->x + 1);\n\tif (!(*command)->str)\n\t\treturn (1);\n\treturn (0);\n}\n"
        }
    ]
}